<div class="carousel slide" data-ride="carousel" id="carousel-<%= block.id %>">
  
  <ol class="carousel-indicators">
    <% block.images.each_with_index do |image, index| %>
      <li class="<%= 'active' if index == 0 %>" data-slide-to="<%= index %>" data-target="#carousel-<%= block.id %>"></li>
    <% end %>
  </ol>
  
  <div class="carousel-inner" role="listbox">
    <% block.images.each_with_index do |image, index| %>
      <div class="item<%= ' active' if index == 0 %>">
        <%= image_tag image.image.url %>
      </div>
    <% end %>
  </div>
  
  <a class="left carousel-control" data-slide="prev" href="#carousel-<%= block.id %>" role="button"><span class="glyphicon glyphicon-chevron-left"></span><span class="sr-only">Previous</span></a>
  <a class="right carousel-control" data-slide="next" href="#carousel-<%= block.id %>" role="button"><span class="glyphicon glyphicon-chevron-right"></span><span class="sr-only">Next</span></a>
</div>

<% if block.images.any? %>
  <script type="text/javascript">$('#carousel-<%= block.id %>').carousel();</script>
<% end %>